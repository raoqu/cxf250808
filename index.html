<!DOCTYPE html>
<html lang=en>

<head>
  <meta charset=utf-8>
  <meta name=renderer content=webkit>
  <meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1">
  <meta name=viewport content="width=device-width, initial-scale=1.0">
  <title>湖北省建设工程质量检测监管系统</title>
  <link rel=stylesheet href="foxai.css">
  <link rel=stylesheet href="body2.css">
  <link rel=stylesheet href="body.css">
  <link rel=stylesheet href="global.css">
  <link rel=stylesheet href="global2.css">
  <meta http-equiv=X-UA-Compatible content="IE=edge">
  <meta name=viewport content="width=device-width, initial-scale=1.0">
  <title>湖北省建设工程质量检测监管系统</title>
  <meta name=referrer content=no-referrer>
  <link rel=canonical
    href="http://www.hbjsinfo.com:9050/Service/GetReport?CertificateNO=AJ19195-7&amp;SampleNo=GMJC25000019">
  <meta http-equiv=content-security-policy
    content="default-src 'none'; font-src 'self' data:; img-src 'self' data:; style-src 'unsafe-inline'; media-src 'self' data:; script-src 'unsafe-inline' data:; object-src 'self' data:; frame-src 'self' data:;">
</head>

<body class=index>
  <div id=sy
    style="background:url(watermark.png)center center repeat;width:100%;height:100%;position:fixed;z-index:99999;pointer-events:none">
  </div>
  <div id=app class=wcDiv>
    <div class=xtmc>湖北省建设工程质量检测监管系统</div>
    <div style="padding:0px 15px">
      <div class="el-card box-card is-always-shadow">
        <div class=el-card__header>
          <div class=clearfix>
            <div class=form_title>
              报告信息
            </div>
          </div>
        </div>
        <div class=el-card__body>
          <div class=hang>工程名称:<span> 中国供销·公安商贸物流园（公安县域集采集配中心）商业一期项目 </span></div>
          <hr>
          <div class=hang>委托单位:<span> 公安县供销商贸物流有限公司 </span></div>
          <hr>
          <div class=hang>检测单位:<span> 武汉轻工工程技术有限公司荆州分公司 </span></div>
          <hr>
          <div class=hang>监督单位:<span> 公安县建筑工程服务中心质量监督站 </span></div>
          <hr>
          <div class=hang>检验编号:<span> GMJC25000019 </span></div>
          <hr>
          <div class=hang>样品名称:<span> 钢筋机械连接 </span></div>
          <hr>
          <div class=hang>报告日期:<span> 2025-07-31 </span></div>
          <hr>
          <div class=hang>使用部位:<span> 8#农副产品交易中心二层 </span></div>
          <hr>
          <div class=hang>检验结果:<span> 合格 </span></div>
          <hr>
          <div class=hang>唯一性标识:<span> NPDKC36146|3 </span></div>
        </div>
      </div> <button type=button class="el-button el-button--primary" style="margin:15px 0px;width:100%"
        onclick="openReport()"><span>打开报告</span></button>
    </div>
    <div class="el-dialog__wrapper pdfdialog1" style="display:none">
      <div role=dialog aria-modal=true aria-label=dialog class="el-dialog" style="margin-top:15vh;width:100%">
        <div class="el-dialog__header"><span class="el-dialog__title"></span><button type=button aria-label=Close
            class=el-dialog__headerbtn><i class="el-dialog__close el-icon el-icon-close"></i></button></div>
        <div class=el-dialog__footer><span class=dialog-footer><button type=button
              class="el-button but_query el-button--default"><span>关闭</span></button></span></div>
      </div>
    </div>
  </div>
  <div id=foxai-shadow-dom><template shadowrootmode=open>
      <div id=foxai-wrapper></div>
    </template></div>
  <script>
    // Simple PDF viewer implementation that works with CSP restrictions
    // This is a fallback approach since PDF.js can't be loaded due to CSP
    
    // Define the openReport function
    function openReport() {
      // Get the shadow DOM wrapper
      const shadowHost = document.getElementById('foxai-shadow-dom');
      const shadowRoot = shadowHost.shadowRoot;
      const wrapper = shadowRoot.getElementById('foxai-wrapper');
      
      // Clear any existing content
      wrapper.innerHTML = '';
      
      // Create PDF viewer container
      const viewerContainer = document.createElement('div');
      viewerContainer.className = 'pdf-viewer-container';
      viewerContainer.style.position = 'fixed';
      viewerContainer.style.top = '0';
      viewerContainer.style.left = '0';
      viewerContainer.style.width = '100%';
      viewerContainer.style.height = '100%';
      viewerContainer.style.backgroundColor = 'rgba(0, 0, 0, 0.8)';
      viewerContainer.style.zIndex = '9999';
      viewerContainer.style.display = 'flex';
      viewerContainer.style.flexDirection = 'column';
      
      // Create header with close button
      const header = document.createElement('div');
      header.style.padding = '10px';
      header.style.backgroundColor = '#2196f3';
      header.style.color = '#fff';
      header.style.display = 'flex';
      header.style.justifyContent = 'space-between';
      header.style.alignItems = 'center';
      
      const title = document.createElement('div');
      title.textContent = '检测报告';
      title.style.fontFamily = 'Regular265';
      title.style.fontSize = '18px';
      
      const closeBtn = document.createElement('button');
      closeBtn.textContent = '关闭';
      closeBtn.style.padding = '5px 15px';
      closeBtn.style.backgroundColor = '#fff';
      closeBtn.style.color = '#2196f3';
      closeBtn.style.border = 'none';
      closeBtn.style.borderRadius = '4px';
      closeBtn.style.cursor = 'pointer';
      closeBtn.onclick = function() {
        wrapper.innerHTML = '';
      };
      
      header.appendChild(title);
      header.appendChild(closeBtn);
      
      // Create canvas container
      const canvasContainer = document.createElement('div');
      canvasContainer.style.flex = '1';
      canvasContainer.style.overflow = 'auto';
      canvasContainer.style.display = 'flex';
      canvasContainer.style.justifyContent = 'center';
      canvasContainer.style.alignItems = 'flex-start';
      canvasContainer.style.padding = '20px';
      
      const canvas = document.createElement('canvas');
      canvas.id = 'pdf-canvas';
      canvasContainer.appendChild(canvas);
      
      // Add navigation controls
      const controls = document.createElement('div');
      controls.style.padding = '10px';
      controls.style.backgroundColor = '#f1f1f1';
      controls.style.display = 'flex';
      controls.style.justifyContent = 'center';
      controls.style.gap = '10px';
      
      const prevBtn = document.createElement('button');
      prevBtn.textContent = '上一页';
      prevBtn.style.padding = '5px 15px';
      prevBtn.style.backgroundColor = '#2196f3';
      prevBtn.style.color = '#fff';
      prevBtn.style.border = 'none';
      prevBtn.style.borderRadius = '4px';
      prevBtn.style.cursor = 'pointer';
      
      const pageInfo = document.createElement('div');
      pageInfo.style.padding = '5px 15px';
      
      const nextBtn = document.createElement('button');
      nextBtn.textContent = '下一页';
      nextBtn.style.padding = '5px 15px';
      nextBtn.style.backgroundColor = '#2196f3';
      nextBtn.style.color = '#fff';
      nextBtn.style.border = 'none';
      nextBtn.style.borderRadius = '4px';
      nextBtn.style.cursor = 'pointer';
      
      controls.appendChild(prevBtn);
      controls.appendChild(pageInfo);
      controls.appendChild(nextBtn);
      
      // Assemble the viewer
      viewerContainer.appendChild(header);
      viewerContainer.appendChild(canvasContainer);
      viewerContainer.appendChild(controls);
      wrapper.appendChild(viewerContainer);
      
      // Load and render the PDF
      let pdfDoc = null;
      let pageNum = 1;
      let pageRendering = false;
      let pageNumPending = null;
      const scale = 1.5;
      const ctx = canvas.getContext('2d');
      
      function renderPage(num) {
        pageRendering = true;
        
        // Update page info
        pageInfo.textContent = `页码: ${num} / ${pdfDoc.numPages}`;
        
        // Get page
        pdfDoc.getPage(num).then(function(page) {
          const viewport = page.getViewport({ scale: scale });
          canvas.height = viewport.height;
          canvas.width = viewport.width;
          
          // Render PDF page into canvas context
          const renderContext = {
            canvasContext: ctx,
            viewport: viewport
          };
          
          const renderTask = page.render(renderContext);
          
          // Wait for rendering to finish
          renderTask.promise.then(function() {
            pageRendering = false;
            if (pageNumPending !== null) {
              // New page rendering is pending
              renderPage(pageNumPending);
              pageNumPending = null;
            }
          });
        });
      }
      
      function queueRenderPage(num) {
        if (pageRendering) {
          pageNumPending = num;
        } else {
          renderPage(num);
        }
      }
      
      function onPrevPage() {
        if (pageNum <= 1) {
          return;
        }
        pageNum--;
        queueRenderPage(pageNum);
      }
      
      function onNextPage() {
        if (pageNum >= pdfDoc.numPages) {
          return;
        }
        pageNum++;
        queueRenderPage(pageNum);
      }
      
      // Button events
      prevBtn.addEventListener('click', onPrevPage);
      nextBtn.addEventListener('click', onNextPage);
      
      // Load the PDF
      if (!window.pdfjsLib) {
        console.error('PDF.js library not loaded yet');
        const errorMsg = document.createElement('div');
        errorMsg.textContent = 'PDF.js 库未加载，请刷新页面重试';
        errorMsg.style.color = 'red';
        errorMsg.style.padding = '20px';
        canvasContainer.innerHTML = '';
        canvasContainer.appendChild(errorMsg);
        return;
      }
      
      window.pdfjsLib.getDocument('a.pdf').promise.then(function(pdf) {
        pdfDoc = pdf;
        renderPage(pageNum);
      }).catch(function(error) {
        console.error('Error loading PDF:', error);
        const errorMsg = document.createElement('div');
        errorMsg.textContent = '加载PDF失败: ' + error.message;
        errorMsg.style.color = 'red';
        errorMsg.style.padding = '20px';
        canvasContainer.innerHTML = '';
        canvasContainer.appendChild(errorMsg);
      });
      
      // Show the dialog
      document.querySelector('.pdfdialog1').style.display = 'block';
    }
  </script>
  <script data-template-shadow-root>(
      () => {
        document.currentScript.remove();
        processNode(document);
        function processNode(node) {
          node.querySelectorAll("template[shadowrootmode]").forEach(element => {
            let shadowRoot = element.parentElement.shadowRoot;
            if (!shadowRoot) {
              try {
                shadowRoot = element.parentElement.attachShadow({
                  mode: element.getAttribute("shadowrootmode"),
                  delegatesFocus: element.getAttribute("shadowrootdelegatesfocus") != null,
                  clonable: element.getAttribute("shadowrootclonable") != null,
                  serializable: element.getAttribute("shadowrootserializable") != null
                });
                shadowRoot.innerHTML = element.innerHTML; element.remove()
              } catch (error) { }
              if (shadowRoot) {
                processNode(shadowRoot)
              }
            }
          })
        }
      })()
  </script>